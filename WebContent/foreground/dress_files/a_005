define("kg/tb-nav/2.4.1/lib/region/index",["kg/tb-nav/2.4.1/lib/menu/index","node","util","kg/tb-nav/2.4.1/lib/reporter/index"],function(n,i,e){var t=n("kg/tb-nav/2.4.1/lib/menu/index"),a=n("node").all,s=["GLOBAL","CN","HK","TW","MO","KR","MY","AU","SG","NZ","CA","US","JP"],l=["\u5168\u7403","\u4e2d\u56fd\u5927\u9646","\u9999\u6e2f","\u53f0\u6e7e","\u6fb3\u95e8","\u97e9\u56fd","\u9a6c\u6765\u897f\u4e9a","\u6fb3\u5927\u5229\u4e9a","\u65b0\u52a0\u5761","\u65b0\u897f\u5170","\u52a0\u62ff\u5927","\u7f8e\u56fd","\u65e5\u672c"],o=n("util"),r=n("kg/tb-nav/2.4.1/lib/reporter/index");e.exports={init:function(){this.render(),this.listEl=a("#J_SiteNavRegionList"),this.bind()},bind:function(){var n=!1,i=this;t.subscribe("region","show",function(){n||(i.renderItems(),n=!0)}),this.listEl.delegate("click",".J_RegionItem",function(n){var i=a(n.currentTarget).index(),e=s[i],t=!0;"www.taobao.com"===location.hostname&&"/"===location.pathname&&"CN"===e&&(t=!1),r.send({category:"REGION_SWITCH",msg:"MAINLAND -> "+e}),KISSY.use("kg/tb-gnav/1.0.1/lib/hng",function(n,i){i.set(e,t)})})},renderItems:function(){var n=[];n=o.map(l,function(n){return'<li class="site-nav-region-item J_RegionItem" role="option">'+n+"</li>"}),this.listEl.html(n.join(""))},render:function(){var n='<li class="site-nav-menu site-nav-switch site-nav-multi-menu J_MultiMenu" data-name="region">\n      <div class="site-nav-menu-hd">\n        <span class="site-nav-region">\u4e2d\u56fd\u5927\u9646</span>\n        <span class="site-nav-arrow"><span class="site-nav-icon">&#xe605;</span></span>\n      </div>\n      <div class="site-nav-menu-bd site-nav-menu-list">\n        <ul id="J_SiteNavRegionList" class="site-nav-region-list site-nav-menu-bd-panel menu-bd-panel" role="listbox" aria-expanded="true">\n        </ul>\n      </div>\n    </li>';a("#J_SiteNavBdL").prepend(n)}}});