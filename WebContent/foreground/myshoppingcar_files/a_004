KISSY.add("tbc/doctor/0.2.0/index",["node","base","./index.css"],function(t,e){var r=e("node"),o=e("base");e("./index.css");var i=r.all,a=t.UA,n=t.Anim,s=6048e5,c="tb_doctor_last",d="doctor:browser:update",h="doctor:screen:zoom",l="doctor:screen:reset",u=i("body"),v=window,f=o.extend({initializer:function(){function t(t){var r=i(t),o=i(".tb-doctor-contents",c);o.append(r),e.binding(),e.show()}var e=this,r=e.getLast(),o=this.get("interval"),n=+new Date-parseInt(r,10)>o,s=e.get("template"),c=i(s);if(e.set("el",c),!r||n)if(e.detectUpdate()){u.fire(d);var v='<p>\u60a8\u7684\u6d4f\u89c8\u5668\u56e0\u7248\u672c\u8fc7\u4f4e\u53ef\u80fd\u5b58\u5728\u5b89\u5168\u9690\u60a3\uff0c\u8bf7<a target="_blank" href="http://wap.uc.cn/index.php?action=PackageDown&do=ByPfid&product=UCBrowser&pfid=101&lang=zh-cn&bid=999&direct=true&from=tb-doctor" class="tb-doctor-highlight">\u70b9\u51fb\u4e0b\u8f7dUC\u6d4f\u89c8\u5668</a>\u6216\u8005<a target="_blank" href="http://www.microsoft.com/china/windows/IE/upgrade/index.aspx" class="tb-doctor-highlight" >\u5347\u7ea7IE\u6d4f\u89c8\u5668</a></p>';t(v)}else if(e.detectZoom()){u.fire(h);var v='<p>\u60a8\u6240\u8bbf\u95ee\u7684\u7f51\u9875\u5185\u5bb9\u88ab\u7f29\u653e\u53ef\u80fd\u5f71\u54cd\u6b63\u5e38\u4f7f\u7528\uff0c\u53ef\u4ee5\u4f7f\u7528\u952e\u76d8\u5feb\u6377\u952e <span class="tb-doctor-highlight">'+("macintosh"==a.os?"\u2318":"Ctrl")+'</span> \u548c <span class="tb-doctor-highlight">0</span> \u6062\u590d\u6b63\u5e38\u3002</p>';t(v),i(document).on("keydown",function(t){48!==t.keyCode&&96!==t.keyCode||!("macintosh"===a.os&&t.metaKey&&!t.ctrlKey||"macintosh"!==a.os&&t.ctrlKey)||(e.hide(),u.fire(l))})}this.set("created",!0)},destructor:function(){this.$el.remove(),this.set("created",!1),this.$el=null,this.el=null},binding:function(){var t=this;t.$el.delegate("click",".tb-doctor-close",function(e){return e.preventDefault(),t.setLast(),t.hide()})},show:function(){var t=this.$el;t.appendTo("body"),t.show();var e=new n(t,{height:45},.3,"easeOut");return e.run()},hide:function(){var t=this.$el,e=new n(t,{height:0},.3,"easeOut");return e.run()},initIEUserData:function(){if(!this.initedIEUserData){var t=i('<div style="behavior:url(#default#userData);"></div>');t.appendTo("body");var e=t[0];this.set("storageEl",e),this.initedIEUserData=!0}return this.get("storageEl")},setLast:function(){return this.setStore(c,+new Date)},getLast:function(){return this.getStore(c)},getStore:function(t){var e=this;try{if(window.localStorage)return localStorage[t];var r=e.initIEUserData();return r.load("TaoBaoDoctor"),r.getAttribute(t)}catch(o){}},setStore:function(t,e){var r=this;try{if(!window.localStorage){var o=r.initIEUserData();return o.setAttribute(t,e),o.save("TaoBaoDoctor")}localStorage[t]=e}catch(i){}},detectUpdate:function(){return a.ie&&a.ie<8&&-1==navigator.userAgent.indexOf("TaoBrowser")},detectZoom:function(){function t(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r}var e=1,r=v.devicePixelRatio;return r&&1>r&&r>0?(e=r,f.dpr=r):isNaN(screen.deviceXDPI)||isNaN(screen.logicalXDPI)?v.outerWidth>0&&v.innerWidth>0&&(f.outerWidth=v.outerWidth,f.innerWidth=v.innerWidth,e=v.outerWidth/v.innerWidth):e=screen.deviceXDPI/screen.logicalXDPI,f.zoom=e,1!==t(e,1)}},{ATTRS:{el:{setter:function(t){this.$el=t,this.el=t[0]}},template:{value:'<div class="tb-doctor">                    <div class="tb-doctor-contents">                    <a href="javascript:;" class="tb-doctor-close">\u5173\u95ed</a></div></div>'},interval:{value:s},check:{value:["zoom","update"]}}});return v.Doctor=f,f});KISSY.add("tbc/add-to-cart/1.3.9/index",function(a,b){function c(b,c,d){var e="tbc/add-to-cart/";b&&(e+=b+"/"),a.use(e+"index.css"),a.use(e+"plugin/add2cart",function(a,b){b(c,d)})}a.isFunction(a.getLogger)||(a.getLogger=function(b){return{info:function(c){a.log(b+": "+c)}}});a.getLogger("cart");return{init:function(a,b){var d="1.3.9";c(d,a,b)}}},{requires:["ajax"]});!function(e,t){function o(){}try{t(e)}catch(n){e.Log={info:o,warn:o,error:o,debug:o}}var r="tbc/log/0.4.2/index",i=function(){return e.Log};"undefined"!=typeof KISSY?KISSY.add(r,[],i):"undefined"!=typeof define&&define(r,[],i)}("undefined"!=typeof window?window:this,function(e){function t(t){var o=location.href.indexOf("ks-debug")>-1||location.href.indexOf("log-tools")>-1;o&&(this.console=t&&t.console||e.console)}function o(){function t(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o}var o=this;if(!e._console){var n=[];_console={log:function(){var e=arguments;n.push(function(t){t.log.apply(t,e)})},iterator:function(e){for(var t,o=0;t=n[o++];)t(e)}}}t(document,"keydown",function(e){var t=e.target,n=t&&t.tagName;!e.metaKey&&!e.ctrlKey||e.shiftKey!==!0||190!==e.keyCode||"INPUT"===n||"SELECT"===n||"TEXTAREA"===n||t.isContentEditable||(e.preventDefault(),o.show())}),location.search.indexOf("log-tools")>-1&&this.show()}function n(e){e=e||{},this.url=e.url||location.host+location.pathname,this.random=Math.random(),this.server="//poc.taobao.com/1.gif?"}function r(t){t=t||{},this.sampling=t.sampling||1e3,this.startTime=t.startTime||e.g_config&&g_config.startTime||+new Date,this.screen=t.screen||screen.width+"x"+screen.height,this.ua=t.ua||navigator.userAgent,this.url=t.url||location.protocol+"//"+location.host+location.pathname+"/log",this.random=Math.random(),this.server=(location>"https"?"//log":"//gm")+".mmstat.com/jstracker.2?"}function i(e){this.group=e,i.loggers[e]=this}function s(e,t){if(e.indexOf)return e.indexOf(t);for(var o=0,n=e.length;n>o;++o)if(e[o]===t)return o;return-1}function l(e){for(var t=1,o=arguments,n=o.length,r=String(e).replace(c,function(e){if("%%"===e)return"%";if(t>=n)return e;switch(e){case"%s":return String(o[t++]);case"%d":return Number(o[t++]);default:return e}}),i=o[t];n>t;i=o[++t])r+=" "+i;return r}t.prototype={receive:function(e){if(this.console){var t=e.level,o=e.message,n=e.group,r="["+n+"] "+o;this.console[t]&&this.console[t](r)}}},o.prototype={isTestEnv:function(){var e=location.host,t=location.href;return e.indexOf("daily")>-1||e.indexOf("pre")>-1||t.indexOf("ks-debug")>-1||t.indexOf("log-tools")>-1}(),promptNum:0,promptId:"log-prompt",promptStyle:"cursor: pointer; position: fixed; _position: absolute; right: 5px; bottom: 5px; z-index: 2147483640;border-radius: 50px;background: rgba(0, 0, 0, 0.7);width: 48px;color: #f00;height: 48px;line-height: 48px;font-size: 24px;text-align: center;",showPrompt:function(){var e=document.getElementById(this.promptId);if(e)e.innerText=++this.promptNum;else{var t=this,o=document.createElement("div");document.body.appendChild(o),o.innerHTML='<div id="'+this.promptId+'" title="\u70b9\u51fb\u67e5\u770b\u9519\u8bef" style="'+this.promptStyle+'">'+ ++this.promptNum+"</div>",o.onclick=function(){o.parentNode.removeChild(o),t.show()}}},receive:function(t){var o=t.level,n=t.message,r=t.group,i=t.date;!this.isTestEnv||"warn"!=o&&"error"!=o||this.showPrompt(),e._console&&_console.log(o,r,n,i)},show:function(){if(_console.show)_console.show();else{_console.show=function(){};var t=document,o=t.head||t.getElementsByTagName("head")[0]||t.documentElement,n=o.getElementsByTagName("base")[0],r=+new Date,i="?"+r,s=t.createElement("link");s.rel="stylesheet",s.href=(e.LOG_TOOLS_CSS||"//g.alicdn.com/tbc/log-tools/index.css")+i,n?o.insertBefore(s,n):o.appendChild(s);var l=t.createElement("script");l.src=(e.LOG_TOOLS_JS||"//g.alicdn.com/tbc/log-tools/index.js")+i,n?o.insertBefore(l,n):o.appendChild(l)}}},n.prototype={receive:function(e){var t=e.level,o=e.message,n=e.group;this.send(this.server+["l="+(t+":"+n),"u="+this.url,"m="+o,"t="+(new Date).valueOf()].join("&"))},send:function(t){var o="__log_img_"+ +new Date,n=e[o]=new Image;n.onload=n.onerror=function(){e[o]=null},n.src=t,n=null}},r.prototype={receive:function(e){this.random*this.sampling>1||this.track(e)},track:function(e){var t=e.level,o=e.message,n=e.group,r={ua:this.ua,msg:o||"",nick:"",file:"",line:0,delay:+new Date-this.startTime,screen:this.screen,scrolltop:document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,url:this.url,category:t+":"+n||"",sampling:this.sampling};try{var i=document.cookie,s=/_nk_=([^;]+)/.exec(i)||/_w_tb_nick=([^;]+)/.exec(i)||/lgc=([^;]+)/.exec(i);s&&(r.nick=s[1])}catch(l){}r.msg=["[u"+r.url+"]","[t"+r.delay+"]","[c"+r.category+"]","[r"+r.sampling+"]"].join("")+r.msg,this.send(this.server+["type=9","id=jstracker","v=0.02","ua="+encodeURIComponent(r.ua),"msg="+encodeURIComponent(r.msg),"nick="+decodeURIComponent(r.nick),"file="+encodeURIComponent(r.file),"line="+r.line,"screen="+r.screen,"scrolltop="+r.scrolltop,"t="+(new Date).valueOf()].join("&"))},send:function(t){var o="__log_img_"+ +new Date,n=e[o]=new Image;n.onload=n.onerror=function(){e[o]=null},n.src=t,n=null}},i.getLogger=function(e){return i.loggers[e]||new i(e)},i.reporters=[],i.loggers={},i.reporter=function(e,t){var o={level:["*"],group:["*"]};t=t||{},t.level||(t.level=o.level),t.group||(t.group=o.group);var n={reporter:e,config:t};return i.reporters.push(n),function(){i.reporters.splice(i.reporters.indexOf(n),1)}},i.prototype.reporter=function(){},i.prototype.log=function(e,t,o){try{for(var n in i.reporters){var r=i.reporters[n],l=r.config,c=r.reporter;if(!(-1===s(l.level,"*")&&-1===s(l.level,e)||-1===s(l.group,"*")&&-1===s(l.group,t)))try{c.receive({level:e,group:t,message:o,date:new Date})}catch(a){}}}catch(a){}};var c=/%[sd%]/g,a=["debug","info","warn","error"];for(var u in a){var p=a[u];i.prototype[p]=function(e){return function(t){t=l.apply(null,arguments),this.log(e,this.group,t)}}(p)}try{i.reporter(new o),i.reporter(new t),i.reporter(new r,{level:["warn","error"]}),i.reporter(new n,{level:["warn","error"]})}catch(d){}e.Log=i});